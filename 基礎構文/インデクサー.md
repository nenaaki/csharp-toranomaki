## インデクサー

インデクサーは、クラス、構造体、またはインターフェースのインスタンスを配列のようにインデックス付きでアクセスできるようにするためのメンバーです。インデクサーを使用することで、オブジェクトに対して配列のようなアクセス方法を提供できます。以下にインデクサーの定義とその使用方法について詳述します。

### インデクサーの定義

インデクサーは、`this`キーワードを使用して定義します。基本的なシンタックスは以下の通りです。

```csharp
public class SampleClass
{
    private int[] array = new int[100];
    
    public int this[int index]
    {
        get { return array[index]; }
        set { array[index] = value; }
    }
}
```

この例では、`SampleClass`のインスタンスは配列のように扱うことができます。

### インデクサーの使用方法

定義したインデクサーを使って、`SampleClass`のインスタンスを配列のように操作できます。

```csharp
SampleClass sample = new SampleClass();
sample[0] = 10; // インデクサーを使って値を設定
int value = sample[0]; // インデクサーを使って値を取得
```

### インデクサーの特徴

1. **インデクサーはプロパティの一種**：
   インデクサーは、プロパティと同様に`get`および`set`アクセサーを持ちます。プロパティと異なるのは、インデクサーが引数を取る点です。

2. **アクセス制御**：
   インデクサーの`get`および`set`アクセサーには異なるアクセス修飾子を設定できます。例えば、`get`は`public`で`set`は`private`にすることができます。

3. **複数のインデクサー**：
   同じクラスに複数のインデクサーを定義することも可能です。異なるパラメータリストを持つインデクサーをオーバーロードすることができます。

### 配列でインデクサーが使える理由

C#の配列は、実質的にインデクサーを持つクラスの特殊な形です。配列型は、`System.Array`クラスから派生しており、このクラスはインデクサーを実装しています。配列に対してインデクサーを使用できる理由は、配列がインデクサーを持つクラスであり、`this[int index]`という形で要素にアクセスするためのメソッドを提供しているからです。配列の場合、このインデクサーはゼロベースの整数インデックスを受け取り、対応する要素を返します。

### 配列のインデクサーの例

配列のインデクサーを使った例は以下の通りです。

```csharp
int[] array = new int[5];
array[0] = 1; // インデクサーを使って値を設定
int firstElement = array[0]; // インデクサーを使って値を取得
```

このように、C#のインデクサーを使うことで、クラスや構造体のインスタンスに対して、配列のような直感的なアクセス方法を提供することができます。